window.addEventListener("load",function(){FastClick.attach(document.body)},!1),document.addEventListener("touchstart",function(){},!0),Dropzone.autoDiscover=!1,$(document).ready(function(){$("#banner-upload").dropzone({paramName:"file",maxFilesize:10,uploadMultiple:!1,parallelUploads:1,maxFiles:1,createImageThumbnails:!0,thumbnailWidth:null,thumbnailHeight:null,clickable:!0,addRemoveLinks:!0,dictDefaultMessage:"Drop banner image here to upload",acceptedFiles:"image/*",accept:function(e,t){console.log("uploaded"),t()},init:function(){this.on("addedfile",function(){null!=this.files[1]&&this.removeFile(this.files[0])})}}),$("a[href='#']").click(function(){event.preventDefault()});var e=new Nanobar({classname:"my-class",id:"my-id",target:document.getElementById("progress")});e.go(100);var t=document.querySelector("header"),a=new Headroom(t,{tolerance:{down:10,up:10},offset:70,onPin:function(){$(".sticky .content").addClass("navstick")},onUnpin:function(){$(".sticky .content").addClass("navstick")},onTop:function(){$(".sticky .content").removeClass("navstick")},onNotTop:function(){$(".sticky .content").addClass("navstick")}});a.init(),houdini.init({callbackOpen:function(e,t){$(".ui.sticky").length&&setTimeout(function(){$(".ui.sticky").sticky("refresh")},200)},callbackClose:function(e,t){}}),$("input[maxlength], textarea[maxlength]").length&&$("input[maxlength], textarea[maxlength]").each(function(e){var t=$(this).attr("maxlength");$(this).parent().prepend('<span class="counter">'+t+"</span>");var a=$(this).parent().find(".counter");$(this).keyup(function(){var e=$(this).val().length,n=t-e;a.html(n)})}),$(".update_ad_preview").length&&$(".update_ad_preview").each(function(e){$(this).keyup(function(){var e=""==$(this).val()?$(this).attr("placeholder"):$(this).val(),t=".txt_"+$(this).attr("id");$("#txt_ad_preview "+t).html(e)})}),$(".autocomplete").length&&new Awesomplete("input[data-multiple]",{filter:function(e,t){return Awesomplete.FILTER_CONTAINS(e,t.match(/[^,]*$/)[0])},replace:function(e){var t=this.input.value.match(/^.+,\s*|/)[0];this.input.value=t+e+", "}}),$(document).on("click","a.epin",function(e){alert("OH WOW"),event.preventDefault(),event.stopPropagation()}),$(document).on("click","#messages .cancel",function(e){$(this).parents(".itm").find(".message-reply").removeClass("show-reply"),$(this).parents(".itm").find(".message-footer").removeClass("hide-footer")}),$(document).on("click","#messages .unread .collapse-toggle",function(e){console.log("remove unread class"),$(this).parents(".unread").removeClass("unread")}),$(document).on("click",".message-footer .reply",function(e){console.log("Reply"),$(this).parents(".itm").find(".message-reply").addClass("show-reply"),$(this).parents(".itm").find(".message-footer").addClass("hide-footer"),setTimeout(function(){$(".collapse.active").find("textarea").focus()},50)}),$(document).on("click","a.nav-toggle",function(e){e.preventDefault(),$(this).toggleClass("cross"),$("body").toggleClass("noscroll"),$("header").toggleClass("show_nav"),$(".mask").toggleClass("show-mask")}),$(document).on("click",".welcome-message .btn.dismiss, .welcome-message .close",function(e){console.log("Welcome message removed!"),$(".welcome-message").addClass("hide-message")}),modal_error=function(e){$(".lean-modal.show-modal").addClass("modal-error"),setTimeout(function(e){$(".lean-modal.show-modal").removeClass("modal-error")},600)},$(document).on("click","#login .confirm",function(e){""==$("#login #password").val()?(event.preventDefault(),$("#login #password").addClass("input-error"),modal_error()):$("#login #password").removeClass("input-error"),""==$("#login #email").val()?(event.preventDefault(),$("#login #email").addClass("input-error"),modal_error()):$("#login #email").removeClass("input-error")});var n=function(e){var t='<div class="text-ct"><div>'+e+"</div></div><div></div>",a=$(t).appendTo("#notification .ct");setTimeout(function(e){a.addClass("show")},10);var n;clearTimeout(n),n=setTimeout(function(e){$(a).addClass("hide")},1500)};$(function(){$(".user-count").ionRangeSlider({hide_min_max:!0,keyboard:!0,min:0,max:1e3,type:"single",step:1,grid:!0})}),$(".alert .close").on("click",function(){$(this).parents(".alert").addClass("dismissed")}),$(".ui.sticky").sticky({context:"#context",observeChanges:!0}),$(".treeview").treeView(),$("#phone").intlTelInput(),$(".js-pass-show").on("click",function(){$(this).toggleClass("view");var e=$(this).prev("input.input-password").is("[type=password]")?"text":"password";$(this).prev("input.input-password").attr("type",e)});var o=new Clipboard(".copy",{target:function(e){return e.previousElementSibling}});o.on("success",function(e){n("Copied to clipboard!")}),$.fn.extend({leanModal:function(){function e(e){$(document.body).addClass("noscroll"),n.addClass("show-modals"),$(e).addClass("show-modal in").removeClass("out"),setTimeout(function(){$(".lean-modal").removeClass("in")},600)}function t(e){$(document.body).removeClass("noscroll"),n.removeClass("show-modals"),$(e).addClass("out").removeClass("show-modal in"),setTimeout(function(){$(".lean-modal").removeClass("out")},600)}function a(){t(),$(".show-modal").addClass("out").removeClass("show-modal in")}var n=$("#modals");return window.onhashchange=function(t){window.location.hash?(a(),window.location.hash&&$(window.location.hash+".lean-modal").length&&e(window.location.hash)):a()},this.each(function(){window.location.hash&&$(window.location.hash+".lean-modal").length&&e(window.location.hash),$(this).click(function(){a(),e($(this).attr("href"))}),$(".close-modal, #lean-mask").on("click",function(e){a(),history.pushState("",document.title,window.location.pathname),event.preventDefault()})})}}),$("a[rel*=leanModal]").leanModal(),$(document).on("click",".button.agree",function(e){document.getElementById("signup-agree").checked=!0,$(".button.confirm").removeClass("disabled")}),$(document).on("click",".button.disagree",function(e){document.getElementById("signup-agree").checked=!1,$(".button.confirm").addClass("disabled")}),$("#signup-agree").change(function(){this.checked?$(".button.confirm").removeClass("disabled"):$(".button.confirm").addClass("disabled")});var s=new List("tutorials",{valueNames:["category"]});$(document).on("click","#tutorials .list-filter a",function(e){var t=$(this).attr("href"),a=t.substring(t.indexOf("#")+1);s.search(a),$(this).parent().find(".active").removeClass("active"),$(this).addClass("active")});var i=moment($("#table-list .ev_date.date").html()).unix(),l;if($("#table-list .ev_date.date, #messages .ev_date.date").each(function(e){var t=$(this).html(),a=moment(t).unix();$(this).attr("data-timestamp",a),i>=a&&(i=a,l=$(this).html(),d=moment(l).unix()),console.log("%c!!! TIMESTAMP SHOULD BE ADDED BY PHP !!!","color: red; font-weight: bold;",a)}),$("#table-list, #messages").length){if($(".finance.table-list").length)var r=new List("table-list",{valueNames:["id",{attr:"data-timestamp",name:"ev_date"},"amount","description"]});if($(".promotions.table-list").length)var r=new List("table-list",{valueNames:["name","size","description"]});if($(".advertising.table-list").length)var r=new List("table-list",{valueNames:["id",{attr:"data-timestamp",name:"ev_date"},"amount","description"]});if($("#messages").length)var r=new List("messages",{valueNames:["name","subject","message-body",{attr:"data-timestamp",name:"ev_date"}]});r.on("updated",function(e){e.matchingItems.length>0?$(".no-result").removeClass("showit"):$(".no-result").addClass("showit")});var d=moment(l).unix(),c=moment().format("YYYY-MM-DD");$("#date_from").length&&rome(date_from,{dateValidator:rome.val.beforeEq(date_to),time:!1,inputFormat:"YYYY-MM-DD",weekStart:1,initialValue:moment(l).format("YYYY-MM-DD"),min:moment(l).format("YYYY-MM-DD"),max:moment().format("YYYY-MM-DD")}).on("data",function(e){d=moment(e).unix(),console.log("Changed FROM!","Value",e,"Timestamp",d),console.log(d,c),m(e)}),$("#date_to").length&&rome(date_to,{dateValidator:rome.val.afterEq(date_from),time:!1,inputFormat:"YYYY-MM-DD",weekStart:1,initialValue:moment().format("YYYY-MM-DD"),min:moment(l).format("YYYY-MM-DD"),max:moment().format("YYYY-MM-DD")}).on("data",function(e){c=moment(e).unix(),console.log("Changed TO!","Value",e,"Timestamp",c),console.log(d,c),m(e)})}var m=function(e){r.filter(function(e){return e.values().ev_date>=d&&e.values().ev_date<=c})}});